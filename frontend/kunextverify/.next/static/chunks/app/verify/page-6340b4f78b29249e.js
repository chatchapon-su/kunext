(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[434],{8270:(e,t,r)=>{Promise.resolve().then(r.bind(r,4116))},4116:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(5155),o=r(6046);r(5565),r(7396);var s=r(2115),n=r(2651),i=r(8897),c=r.n(i);function l(){let e="https://kuapi.anasaki.live",t=(0,o.useRouter)(),[r,i]=(0,s.useState)([]),[l,d]=(0,s.useState)(),[u,m]=(0,s.useState)(),[g,h]=(0,s.useState)(null);return(0,s.useEffect)(()=>{h(new URLSearchParams(window.location.search).get("verifytoken"))},[]),(0,s.useEffect)(()=>{(async()=>{if(g)try{let r={std_verifytoken:g};console.log("Test"),console.log(r);let a=await n.A.post("".concat(e,"/checktoken"),r,{headers:{"Content-Type":"application/json"}});console.log("Test2",a.data),a.data&&a.data.std_code?i(a.data):(c().fire({title:"Error!",text:"Invalid token or user data not found.",icon:"error",confirmButtonText:"OK"}),t.push("https://kunext.anasaki.live/"))}catch(e){c().fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"OK"}),t.push("https://kunext.anasaki.live/")}})()},[g]),(0,a.jsx)("div",{className:"grid min-h-screen bg-white py-10 lg:px-8",children:(0,a.jsx)("div",{className:"mx-auto p-5 bg-white",children:(0,a.jsx)("div",{className:"mx-auto w-full p-5 mb-5",children:(0,a.jsx)("div",{className:"w-full mx-auto max-w-lg p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8 dark:bg-white dark:border-gray-200",children:(0,a.jsxs)("form",{onSubmit:function(a){a.preventDefault();try{if(l&&u&&l===u)(async()=>{try{let a={std_code:r.std_code,std_password:l},o=await n.A.post("".concat(e,"/confirmpassword"),a);console.log(o.data[0]),c().fire({icon:"success",title:"Success",confirmButtonText:"OK",timer:2e3}),t.push("http://kunext.online:3000/")}catch(e){c().fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"OK"})}})();else throw{message:"Something went wrong"}}catch(e){c().fire({title:"Error!",text:"Something went wrong",icon:"error",confirmButtonText:"OK"})}},className:"space-y-6",children:[(0,a.jsx)("h5",{className:"text-xl font-medium text-gray-900",children:"Create Account"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900",children:"Setting Password"}),(0,a.jsx)("input",{onChange:e=>d(e.target.value),type:"text",name:"std_code",id:"std_code",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5",placeholder:"Setting Password",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900",children:"Confirm Password"}),(0,a.jsx)("input",{onChange:e=>m(e.target.value),type:"text",name:"std_code",id:"std_code",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5",placeholder:"Confirm Password",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full text-white bg-black hover:bg-gray-800 font-medium rounded-lg text-sm px-5 py-2.5",children:"Create Account"})]})})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[320,238,970,264,441,517,358],()=>t(8270)),_N_E=e.O()}]);